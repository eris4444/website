<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø«Ø¨Øª Ù†ÙˆØ¨Øª</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2.6.4/dist/email.min.js"></script>
</head>
<body>

    <header>
        <div class="logo">
            <img src="https://eris4444.github.io/test/assets/IMG_5328.jpeg" alt="Logo">
        </div>
    <nav>
        <a href="index.html">Ø®Ø§Ù†Ù‡</a>
        <a href="about.html">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a>
        <a href="services.html">Ø®Ø¯Ù…Ø§Øª</a>
        <a href="gallery.html">Ú¯Ø§Ù„Ø±ÛŒ</a>
        <a href="contact.html">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a>
        <a href="order.html">Ù†ÙˆØ¨Øª Ú¯ÛŒØ±ÛŒ</a>
    </nav>
    </header>
    
    <h2>Ø«Ø¨Øª Ù†ÙˆØ¨Øª</h2>
    <form id="appointmentForm">
        <label>Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</label>
        <input type="text" id="name" name="name" required>

        <label>Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†:</label>
        <input type="tel" id="phone" name="phone" required>

        <label>Ø§Ù†ØªØ®Ø§Ø¨ Ø±ÙˆØ² Ù†ÙˆØ¨Øª:</label>
        <select id="appointmentDay" name="appointment_day" required>
            <option value="Ø´Ù†Ø¨Ù‡">Ø´Ù†Ø¨Ù‡</option>
            <option value="ÛŒÚ©Ø´Ù†Ø¨Ù‡">ÛŒÚ©Ø´Ù†Ø¨Ù‡</option>
            <option value="Ø¯ÙˆØ´Ù†Ø¨Ù‡">Ø¯ÙˆØ´Ù†Ø¨Ù‡</option>
            <option value="Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡">Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡</option>
            <option value="Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡">Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡</option>
            <option value="Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡">Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡</option>
            <option value="Ø¬Ù…Ø¹Ù‡">Ø¬Ù…Ø¹Ù‡</option>
        </select>

        <label>Ø³Ø§Ø¹Øª Ù†ÙˆØ¨Øª:</label>
        <input type="time" id="appointmentTime" name="appointment_time" required>

        <h3>Ø§Ù†ØªØ®Ø§Ø¨ Ø®Ø¯Ù…Ø§Øª:</h3>
        <div class="service">
            <input type="checkbox" id="service1" class="service-checkbox" value="Ø®Ø¯Ù…Ø§Øª Û±">
            <label for="service1">Ø®Ø¯Ù…Ø§Øª Û±</label>
            <p>ØªÙˆØ¶ÛŒØ­Ø§Øª:</p>
            <input type="input" class="service-quantity" disabled>
        </div>

        <div class="service">
            <input type="checkbox" id="service2" class="service-checkbox" value="Ø®Ø¯Ù…Ø§Øª Û²">
            <label for="service2">Ø®Ø¯Ù…Ø§Øª Û²</label>
            <input type="number" class="service-quantity" disabled>
        </div>

        <div class="service">
            <input type="checkbox" id="service3" class="service-checkbox" value="Ø®Ø¯Ù…Ø§Øª Û³">
            <label for="service3">Ø®Ø¯Ù…Ø§Øª Û³</label>
            <input type="number" class="service-quantity" min="1" max="10" value="1" disabled>
        </div>

        <button type="button" onclick="sendAppointment()">Ø§Ø±Ø³Ø§Ù„ Ù†ÙˆØ¨Øª</button>
    </form>

    <script>
        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ EmailJS
        (function() {
            emailjs.init("YOUR_USER_ID"); // Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ø±Ø¯Ù† Ø¨Ø§ User ID Ø®ÙˆØ¯ Ø§Ø² EmailJS
        })();

        // ÙØ¹Ø§Ù„ Ùˆ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† ÙÛŒÙ„Ø¯ ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø± Ø§Ø³Ø§Ø³ ÙˆØ¶Ø¹ÛŒØª Ú†Ú©â€ŒØ¨Ø§Ú©Ø³â€ŒÙ‡Ø§
        document.querySelectorAll('.service-checkbox').forEach((checkbox, index) => {
            checkbox.addEventListener('change', function() {
                const quantityInput = document.querySelectorAll('.service-quantity')[index];
                quantityInput.disabled = !this.checked;
                if (!this.checked) {
                    quantityInput.value = 1; // Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¨Ù‡ 1 Ø§Ú¯Ø± Ú†Ú©â€ŒØ¨Ø§Ú©Ø³ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø´Ø¯
                }
            });
        });

        // Ø§Ø±Ø³Ø§Ù„ Ù†ÙˆØ¨Øª Ø¨Ù‡ Ø§ÛŒÙ…ÛŒÙ„
        function sendAppointment() {
            let name = document.getElementById("name").value;
            let phone = document.getElementById("phone").value;
            let appointmentDay = document.getElementById("appointmentDay").value;
            let appointmentTime = document.getElementById("appointmentTime").value;

            if (!name || !phone || !appointmentDay || !appointmentTime) {
                alert("Ù„Ø·ÙØ§Ù‹ Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯.");
                return;
            }

            let selectedServices = [];
            let checkboxes = document.querySelectorAll(".service-checkbox");
            checkboxes.forEach((checkbox, index) => {
                if (checkbox.checked) {
                    let quantity = document.querySelectorAll(".service-quantity")[index].value;
                    selectedServices.push(`${checkbox.value} Ã— ${quantity}`);
                }
            });

            if (selectedServices.length === 0) {
                alert("Ù„Ø·ÙØ§Ù‹ Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø®Ø¯Ù…Øª Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.");
                return;
            }

            let message = `ğŸ›ï¸ *Ù†ÙˆØ¨Øª Ø¬Ø¯ÛŒØ¯:*\n\nğŸ‘¤ *Ù†Ø§Ù…:* ${name}\nğŸ“ *ØªÙ„ÙÙ†:* ${phone}\nğŸ“… *Ø±ÙˆØ² Ù†ÙˆØ¨Øª:* ${appointmentDay}\nâ° *Ø³Ø§Ø¹Øª Ù†ÙˆØ¨Øª:* ${appointmentTime}\nğŸ’‡â€â™€ï¸ *Ø®Ø¯Ù…Ø§Øª Ø§Ù†ØªØ®Ø§Ø¨ÛŒ:*\n${selectedServices.join("\n")}`;
            
            emailjs.send("service_zuygjro", "template_ivvlnid", {
                name: name,
                phone: phone,
                appointment_day: appointmentDay,
                appointment_time: appointmentTime,
                selected_services: selectedServices.join("\n")
            })
            .then(function(response) {
                alert("âœ… Ù†ÙˆØ¨Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!");
                document.getElementById("appointmentForm").reset();
            }, function(error) {
                alert("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù†ÙˆØ¨Øª.");
            });
        }
    </script>

</body>
</html>
